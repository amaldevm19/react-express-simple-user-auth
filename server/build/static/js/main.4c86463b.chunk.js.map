{"version":3,"sources":["pages/Home.js","components/Users/LoginForm.js","components/Users/SignupForm.js","components/Users/Profile.js","components/LinkButton.js","components/Users/UserLinks.js","pages/Users.js","components/Header.js","App.js","index.js"],"names":["Home","loginUser","credentials","a","fetch","method","headers","body","JSON","stringify","then","data","LoginForm","setToken","history","useHistory","useState","email","setEmail","password","setPassword","errorMessage","setErrorMessage","handleSubmit","e","preventDefault","EmailValidator","response","status","json","user","push","error","message","style","display","padding","flexDirection","justifyContent","minHeight","type","onChange","target","value","maxWidth","onClick","signupUser","SignupForm","username","setUsername","confirmpassword","setConfirmPassword","passwordmatch","setPasswordmatch","textInput","useRef","current","focus","outlineColor","ref","Profile","userToken","isAdmin","LinkButton","props","url","useRouteMatch","to","link","textDecoration","fontSize","name","UserLinks","cursor","href","Users","setUsertoken","path","useEffect","sessionStorage","getItem","token","parse","console","log","setItem","className","exact","NavBar","Header","color","backgroundColor","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c86463b.chunk.js","sourcesContent":["export default function Home(){\r\n    return(\r\n        <h1>Home Page</h1>\r\n    )\r\n}","\r\nimport { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nasync function loginUser(credentials){\r\n    return fetch('http://localhost:8000/api/users/login',{\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n    }).then(data=>data)\r\n}\r\n\r\nexport const LoginForm = ({setToken}) => {\r\n    const history = useHistory();\r\n    const[email, setEmail] = useState(\"\");\r\n    const[password, setPassword] = useState(\"\");\r\n    const[errorMessage, setErrorMessage] = useState(\"\")\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault();\r\n        if(!EmailValidator.validate(email)){\r\n            setErrorMessage(\"Please provide a valid email\")\r\n            return\r\n        }\r\n        const response = await loginUser({\r\n            email,\r\n            password\r\n        });\r\n        if(response.status === 200){\r\n            let user = await response.json();\r\n            setToken(user)\r\n            history.push(\"/users\");\r\n       }else{\r\n            let error = await response.json();\r\n            setErrorMessage(error.message)\r\n       }\r\n       \r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Login Form</h1>\r\n            <p style={{display:errorMessage?\"block\":\"none\"}}>{errorMessage}</p>\r\n            <form style={{padding:10, display:\"flex\", flexDirection:\"column\", justifyContent:\"space-around\", minHeight:100 }}>\r\n                <label>Email:\r\n                    <input type=\"text\"  onChange={e=>setEmail(e.target.value)} value={email}/>\r\n                </label>\r\n                <label>Password:\r\n                    <input type=\"password\"  onChange={e=>setPassword(e.target.value)} value={password}/>\r\n                </label>\r\n                <input type=\"submit\" value=\"submit\" style={{maxWidth:\"fit-content\"}} onClick={handleSubmit}/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport { useState, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as EmailValidator from 'email-validator';\r\n\r\nasync function signupUser(credentials){\r\n    return fetch('http://localhost:8000/api/users/signup',{\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(credentials)\r\n    }).then(data=>data)\r\n}\r\nexport const SignupForm = () => {\r\n    const history = useHistory();\r\n    const[username, setUsername] = useState(\"\");\r\n    const[email, setEmail] = useState(\"\");\r\n    const[password, setPassword] = useState(\"\");\r\n    const[confirmpassword, setConfirmPassword] = useState(\"\");\r\n    const[passwordmatch, setPasswordmatch] = useState(false)\r\n    const[errorMessage, setErrorMessage] = useState(\"\")\r\n    const textInput = useRef(null);\r\n    const handleSubmit = async (e)=>{\r\n        e.preventDefault();\r\n        if(!EmailValidator.validate(email)){\r\n            setErrorMessage(\"Please provide a valid email\")\r\n            return\r\n        }\r\n        if(!(confirmpassword && passwordmatch)){\r\n            setErrorMessage(\"Password is not matching\");\r\n            textInput.current.focus();\r\n            return\r\n        }\r\n        setErrorMessage(\"\")\r\n        const response = await signupUser({\r\n            username,\r\n            email,\r\n            password\r\n        });\r\n\r\n       if(response.status == 201){\r\n            history.push(\"/users/login\");\r\n       }else{\r\n            let error = await response.json();\r\n            setErrorMessage(error.message)\r\n       }\r\n       \r\n    }\r\n    const passwordMatcher =(e)=>{\r\n        if(password === e.target.value){\r\n            setPasswordmatch(true);\r\n        }else{\r\n            setPasswordmatch(false);\r\n        }\r\n        setConfirmPassword(e.target.value);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <h1>Signup Form</h1>\r\n            <p style={{display:errorMessage?\"block\":\"none\"}}>{errorMessage}</p>\r\n            <form style={{padding:10, display:\"flex\", flexDirection:\"column\", justifyContent:\"space-around\", minHeight:200 }}>\r\n                <label>UserName:\r\n                    <input type=\"text\"  onChange={e=>setUsername(e.target.value)} value={username}/>\r\n                </label>\r\n                <label>Email:\r\n                    <input type=\"email\"  onChange={e=>setEmail(e.target.value)} value={email}/>\r\n                </label>\r\n                <label>Password:\r\n                    <input type=\"password\"  onChange={e=>setPassword(e.target.value)} value={password}/>\r\n                </label>\r\n                <label>Confirm Password:\r\n                    <input type=\"password\" \r\n                        style={passwordmatch?{outlineColor:\"green\"}:{outlineColor:\"tomato\", }} \r\n                        onChange={passwordMatcher} \r\n                        value={confirmpassword}\r\n                        ref={textInput}\r\n                        />\r\n                </label>\r\n                <input type=\"submit\" value=\"submit\" style={{maxWidth:\"fit-content\"}} onClick={handleSubmit}/>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","\r\n\r\nexport const Profile = ({userToken}) => {\r\n  \r\n    return(\r\n        <div>\r\n            <h1>Profile</h1>\r\n            <p>User Name : {userToken.username}</p>\r\n            <p>Admin status : {userToken.isAdmin? \"Yes\":\"No\"}</p>\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\n\r\nexport const LinkButton = (props) => {\r\n    let { url } = useRouteMatch();\r\n    return(\r\n        <div>\r\n           <Link to={`${url}/${props.link}`} style={{textDecoration:\"none\", fontSize:\"large\"}}>{props.name}</Link>\r\n        </div>\r\n    )\r\n}\r\n","\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { LinkButton } from \"../LinkButton\";\r\n\r\nexport const UserLinks = ({userToken, setToken}) => {\r\n    const history = useHistory();\r\n\r\n    const handleClick = (e)=>{\r\n        e.preventDefault();\r\n        setToken(null);\r\n        history.push(\"/users\");\r\n    }\r\n\r\n    if(userToken){\r\n        return <a onClick={handleClick}  style={{textDecoration:\"none\", fontSize:\"large\", cursor:\"pointer\"}} href=\"\"> Logout</a>;\r\n    }\r\n    return (\r\n        <>\r\n            <LinkButton name=\"Login\" link=\"login\"/>\r\n            <LinkButton name=\"Sign-up\" link=\"signup\"/>\r\n        </>\r\n    )\r\n}\r\n","\r\nimport { useState, useEffect } from \"react\";\r\nimport { Route, useRouteMatch, Switch} from \"react-router-dom\";\r\n\r\nimport { LoginForm } from \"../components/Users/LoginForm\";\r\nimport { SignupForm } from \"../components/Users/SignupForm\";\r\nimport { Profile } from \"../components/Users/Profile\";\r\nimport {UserLinks } from \"../components/Users/UserLinks\";\r\nimport \"./Users.css\"\r\n\r\n\r\n\r\nexport default function Users(){\r\n    const [userToken, setUsertoken] = useState(null);\r\n    let { path } = useRouteMatch();\r\n    useEffect(() => {\r\n        let user = sessionStorage.getItem(\"userToken\");\r\n        let token = JSON.parse(user);\r\n        setUsertoken(token);\r\n        return () => {\r\n            setUsertoken(null)\r\n        }\r\n    }, [])\r\n    const setToken = (user)=>{    \r\n        console.log(user)\r\n        setUsertoken(user);\r\n        sessionStorage.setItem(\"userToken\",JSON.stringify(user));\r\n    }\r\n    return(\r\n        <div>\r\n            <div className=\"user-links\">\r\n                <UserLinks userToken={userToken}setToken={setToken}/>\r\n            </div>\r\n            <Switch>\r\n                <Route exact path={`${path}/`}>\r\n                    {userToken && <Profile userToken={userToken}/> }\r\n                    {!userToken && <LoginForm setToken={setToken}/> }\r\n                </Route>\r\n                <Route path={`${path}/login`}>\r\n                    {!userToken && <LoginForm setToken={setToken}/> }\r\n                </Route>\r\n                <Route path={`${path}/signup`}>\r\n                    <SignupForm />\r\n                </Route>\r\n\r\n            </Switch>\r\n        </div>\r\n       \r\n    )\r\n}","import { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport \"./Header.css\"\r\nfunction NavBar() {\r\n\r\n    return(\r\n        <nav>\r\n            <ul className=\"navbar-style\">\r\n                <li>\r\n                    <Link to=\"/\">Home</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to=\"/users\">Users</Link>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport const Header = () => {\r\n\r\n    const headerStyle = {\r\n        display:\"flex\",\r\n        color:\"white\",\r\n        backgroundColor: \"blue\"\r\n\r\n    }\r\n    return(\r\n        <div style={headerStyle}>\r\n            <h1>Simple User Auth SPA</h1>\r\n            <NavBar/>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Users from \"./pages/Users\";\nimport { Header } from \"./components/Header\";\n\nimport './App.css';\n\n\nfunction App() {\n  return (\n    <div className=\"App\"> \n      <Router>\n        <div>\n          <Header/>\n          <Switch>\n            <Route path=\"/users\">\n              <Users userToken={false} />\n            </Route>\n            <Route path=\"/\">\n              <Home />\n            </Route>\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}